/*! NewtonSearch - v1.0.0 - 2016-02-01
* Copyright (c) 2016 Newton.ai; Licensed MIT */
if("undefined"==typeof jQuery)throw"(!) jQuery is required";!function(){function e(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function t(e){var t=e.courses,n=e.selector,r=jQuery(n);if(!r.length)throw"(!) Element("+n+") not found";r.addClass("newton-search-holder");var a=jQuery("<div></div>");a.attr("id","jobListingNewton");var i=jQuery("<ul></ul>");i.attr("id","categoryListingNewton");for(var o=0;o<t.length;o++){var s=t[o],u=s.label,l=s.searchBy,y=s.icon;y=jQuery("<img>").attr("src",y);var c=jQuery("<li></li>"),d=jQuery('<div class="newton-image-holder"></div>');d.append(y),c.append(d),c.attr("title",u),c.html(c.html()+u),c.attr("data-query",l),i.append(c)}a.append(i);var p=jQuery("<ul></ul>");p.attr("id","jobByCatListingNewton"),p.addClass("inactive"),p.append("<li>demo</li>"),a.append(p),r.append(a),r.children("a").first().attr("href","#"),jQuery("#jobByCatListingNewton").height(jQuery("#jobListingNewton").height()),jQuery(r).click(function(e){jQuery(this).addClass("active"),e.stopPropagation()}),jQuery(document).click(function(){jQuery(r).removeClass("active")}),jQuery("#categoryListingNewton>li").click(function(){if(jQuery(this).hasClass("active"))jQuery("#categoryListingNewton").removeClass("inactive"),jQuery("#jobByCatListingNewton").addClass("inactive"),jQuery("#categoryListingNewton>li").removeClass("active");else{jQuery("#categoryListingNewton>li").removeClass("active"),jQuery(this).addClass("active"),jQuery("#categoryListingNewton").addClass("inactive"),jQuery("#jobByCatListingNewton").removeClass("inactive"),"undefined"!=typeof newtonSearchRequest&&null!=newtonSearchRequest&&(newtonSearchRequest.abort(),newtonSearchRequest=null);var t=jQuery(this).data("query"),n=e.country,r=e.city,a=1,i={query:t,country_code:n,city:r,page:a,key:"AE"};i=jQuery.param(i),jQuery("#jobByCatListingNewton").empty(),jQuery("#jobByCatListingNewton").append('<div class="newton-search-loading-spinner"></div>'),newtonSearchRequest=jQuery.post("https://newton.ai/newton/getJob?"+i,function(t){if(t=JSON.parse(t),jQuery("#jobByCatListingNewton").empty(),t.results.length)for(var n=0;n<t.results.length;n++){var r=t.results[n],a=r.company,i=r.title,o=r.link;if(a.length&&"Company not disclosed"!=a)var s=a+e.separator+i;else var s=i;var u=jQuery("<li></li>"),l=jQuery("<a></a>");l.attr("href",o),l.attr("target","_blank"),l.html(s),l.attr("title",s),u.append(l),jQuery("#jobByCatListingNewton").append(u)}else console.err("No results found")})}})}this.NewtonJobs=function(){var n={courses:[{label:"Informatic department",searchBy:"developer",icon:"img/computer.png"},{label:"Network department",searchBy:"network",icon:"img/network.png"}],selector:"#newton-search",separator:" hiring ",city:"",country:"us"};arguments[0]&&"object"==typeof arguments[0]?this.options=e(n,arguments[0]):this.options=n,t(this.options)}}();